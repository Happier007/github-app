<section>
    <mat-progress-bar
            *ngIf="(isLoading | async)"
            class="mat-progress-bar"
            mode="indeterminate"
            color="warn"></mat-progress-bar>
</section>

<mat-toolbar color="primary" fxFlex="100" fxLayout="row" fxLayoutAlign="space-between center">

    <a class="logo" matLine [routerLink]="['/','search']">Git Service</a>

    <div *ngIf="user">

        <div fxLayout="row" fxLayoutAlign="center center">

            <button mat-button [matMenuTriggerFor]="loginMenu">
                <img class="ava" [src]="user.avatarUrl" alt="">
                {{user.login}}
            </button>

            <mat-menu #loginMenu="matMenu">

                <button [routerLink]="['/', 'profile']"
                        mat-menu-item>
                    <mat-icon>settings</mat-icon>
                    <span>Settings</span>
                </button>

                <button (click)="logout()"
                        mat-menu-item>
                    <mat-icon>exit_to_app</mat-icon>
                    <span>Logout</span>
                </button>

            </mat-menu>

        </div>

    </div>

</mat-toolbar>

<router-outlet></router-outlet>

